<!DOCTYPE html>
<html lang="en">

<style>
    :root {
        --scale: 1
    }

    #ScaleBox {
        /* --scale: 1; */
    }

    .ScaleBox {
        position: absolute;
        transform: scale(var(--scale)) translate(-50%, -50%);
        display: flex;
        flex-direction: column;
        transform-origin: 0 0;
        left: 50%;
        top: 50%;
        transition: 0.3s;
        z-index: 999;
        /* width: 3840px; */
    }
</style>
<script>
    function adapition(rootEle) {
        let scale = "";
        let width = 3840;
        let height = 2160;
        function getScale() {
            // let { width, height } = this;
            let wh = window.innerHeight / height;
            let ww = window.innerWidth / width;
            console.log(ww < wh ? ww : wh);
            return ww < wh ? ww : wh;
        }
        function setScale() {
            console.log("执行到这里了")
            if (window.innerHeight == 2160) {
                // document.querySelector(".ScaleBox").style.cssText = `height:2160px ;width:3840px`;
                document.querySelector(".ScaleBox").style.height = `2160px`;
            } else {
                // document.querySelector(".ScaleBox").style.cssText = `height:1780px;width:3840px `;
                document.querySelector(".ScaleBox").style.height = `1780px `;
            }
            scale = getScale();
            console.log(scale)
            document.body.style.setProperty("--scale", scale);
        }
        function debounce(fn, time) {
            window.flag = null;
            return function () {
                clearTimeout(window.flag)
                window.flag = setTimeout(() => {
                    fn()
                }, time)
            }
        }
        window.addEventListener("resize", debounce(setScale, 100));
        window.addEventListener("load", debounce(setScale, 100));

    }
    adapition()
</script>
<!-- 
    知识点1：线性渐变（Line Gradients)-
    linear-gradient(blue, red);这种情况是从上到下。
    linear-gradient(0deg, blue 0%, green 40%, red 100%); 这种情况是从下到上  blue 开头 40%是 green 100%是red
    linear-gradient(90deg, blue 0%, green 40%, red 100%);  这种情况是从左到右
    知识点2：盒子边框
     /* 上右下左 */
    border-width: 0px 0px 1px 0px;
    border-style: solid;
    /* source  slice  repeat */
    border-image: linear-gradient(90deg, rgb(0, 137, 255) 0%, rgb(255, 255, 255, 0) 100%) stretch 1;

 -->

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <title>Document</title>
</head>
<style>
    .card_info {
        float: right;
        
        /* right: -1800px; */
        margin-top: 100px;
        margin-left: 2150px;
        height: 1988px;
        width: 750px;
        border-width: 1.5px 2px 0px 2px;
        border-style: solid;
        border-radius: 20px;
        border-image: linear-gradient(180deg, rgb(12, 133, 240) 0%, rgb(255, 255, 255, 0) 100%) stretch 1;
        background-image: url('./backgroud_gradient.png');
        opacity: 80%;
    }
    .m-30{
        margin-top:30px
    }
    .card_info_container{
        padding: 40px;
    }
    .card_info_title {
        font-size: 30px;
        font-family: "Microsoft YaHei";
        color: aliceblue;
        opacity: 50%;
    }

    .card_info_description {
        font-size: 48px;
        font-family: "Microsoft YaHei";
        color: aliceblue;
    }

    .card_info_firstbox_bottom {
        display: grid;
        grid-template-columns: 50% 50%;

    }

    .card_info_thirdbox_topbox {
        display: grid;
        grid-template-columns: 6% 70% 20%;
    }

    .card_info_thirdbox_bottombox {
        display: grid;
        grid-template-columns: 50% 50%;
        font-size: 48px;
        align-items: center;
        justify-content: center;
    }
    .button_back{
        width: 100%;
        height: 60px;
        text-align: center;
        line-height: 60px;
        font-size: 30px;
        background: rgb(44, 48, 45);
        color: white;
    }
</style>
<style>
    .card_divide {
        border-width: 0px 0px 10px 0px;
        border-style: solid;
        /* source  slice  repeat */
        border-image: linear-gradient(90deg, rgb(0, 137, 255) 0%, rgb(255, 255, 255, 0) 100%) stretch 1;

    }

    .card_button {
        position: relative;
    }

    .txt {
        position: absolute;
        top: -50px;
        left: 100px;
        z-index: 999;
        font-size: 48px;
        color: white;
    }
</style>

<style>
    /* 拖拽 */
    [draggable] {
      cursor: move;
    }
</style>

<body>
    <div class="ScaleBox">

        <div class="card_info draggable" draggable="true" >
            <div class="card_info_container">
                <div class="card_info_back">
                    <button class="button_back">
                        <div>
                           <img src="back.png" alt="" style="color: white"> 返回
                        </div>
                        
                    </button>
                </div>
    
                <div class="card_info_firstbox">
                    <div class="card_info_firstbox_top ">
                        <div class="card_info_title m-30">
                            车库名
                        </div>
                        <div class="card_info_description">
                            世泊百德广场立体停车库
                        </div>
                        <div class="card_info_title m-30">
                            地址
                        </div>
                        <div class="card_info_description">
                            广州市白云区
                        </div>
                        <div class="card_info_title m-30">
                            简介
                        </div>
                        <div class="card_info_description">
                            广州市白云区
                        </div>
                    </div>
    
                    <div class="card_info_firstbox_bottom m-30">
    
                        <div class="card_info_description ">
                            <div class="card_info_title">
                                车库信息
                            </div>
                            <div class="card_info_bottom_description">
                                6位置
                            </div>
                        </div>
                        <div class="card_info_description">
                            <div class="card_info_title">
                                车库信息
                            </div>
                            <div class="card_info_bottom_description">
                                6位置
                            </div>
                        </div>
                        <div class="card_info_description m-30">
                            <div class="card_info_title">
                                车库信息
                            </div>
                            <div class="card_info_bottom_description">
                                6位置
                            </div>
                        </div>
                        <div class="card_info_description m-30">
                            <div class="card_info_title">
                                车库信息
                            </div>
                            <div class="card_info_bottom_description">
                                6位置
                            </div>
                        </div>
                        <div class="card_info_description m-30">
                            <div class="card_info_title">
                                车库信息
                            </div>
                            <div class="card_info_bottom_description">
                                6位置
                            </div>
                        </div>
    
                    </div>
                </div>
                <div class="card_divide m-30">
                </div>
                <div class="card_info_secondbox m-30">
                    <div class="card_info_title">收费信息</div>
                    <div class="card_info_description">24小时封顶价格</div>
                    <div class="card_info_description">每小时价格5元</div>
                </div>
    
                <div class="card_divide m-30">
                </div>
                <div class="card_info_thirdbox m-30">
                    <div class="card_info_thirdbox_topbox m-30">
                        div.
                        <div class="card_info_title">云监控</div>
                        <div class="card_info_title">点击播放</div>
                    </div>
                    <div class="card_info_thirdbox_bottombox m-30">
                        <div class="card_button">
                            <img src="button.png" alt="" width="">
                            <p class="txt">111</p>
                        </div>
                        <div class="card_button">
                            <img src="button.png" alt="" width="">
                            <p class="txt">111</p>
                        </div>
                        <div class="card_button">
                            <img src="button.png" alt="" width="">
                            <p class="txt">111</p>
                        </div>
                        <div class="card_button">
                            <img src="button.png" alt="" width="">
                            <p class="txt">111</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
<script>
    //拖拽
    console.log("sd")
    // 尚未实现，当前实现方式需要点击左上角才正确，有很大问题
    const nodeList = document.getElementsByClassName('draggable');
    console.log(nodeList);
    [...nodeList].forEach(el => {
      el.addEventListener('dragstart', (e)=> {
        e.dataTransfer.clientX = e.clientX
        e.dataTransfer.clientY = e.clientY
      })
      el.addEventListener('dragend', (e)=> {
        const { clientX, clientY, dataTransfer: {clientX: scx,clientY: scy} } = e
        const [ tX, tY ] = (el.style.transform || '').match(/-?\d+/g) || [0, 0]
        console.log("移动的距离",tX, tY);
        el.style.transform = `translate(${+tX + clientX - scx}px, ${+tY + clientY - scy}px)`
      })
    });
</script>
</html>